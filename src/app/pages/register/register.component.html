
<!-- <div class="fondo" style="height: 100vh;" [ngStyle]="{'background': 'linear-gradient(90deg, rgba(99,204,8,1) 0%, rgba(44,108,14,1) 100%)'}"> -->
<!-- <div class="fondo" style="height: 100vh;" [ngStyle]="{'background': 'linear-gradient(90deg, rgba(183,185,181,1) 0%, rgba(230,234,226,1) 78%)'}"> -->
<div class="fondo" style="height: 100vh;" [ngStyle]="{'background': 'linear-gradient(90deg, rgba(223,249,206,1) 0%, rgba(235,237,232,1) 78%)'}">

<div class="row contenedor col-6">
  
  <div class="logoeco mt-3 d-flex justify-content-center">
    <img src="assets/logo_mini.png" height="150px" width="198px" alt="Ecoticket logo">
  </div>

      <form [formGroup]="form" class="mensaje d-flex justify-content-center" >

        <section class="row seccion1 col-10">

          <div class="row">
            <mat-icon (click)="this.router.navigate(['/login'])">arrow_back</mat-icon>
            <div class="mensaje d-flex justify-content-center">
              <h1>Quiero registrarme</h1>
            </div>
          </div>

          <div class="col-12">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Nombre comercial</mat-label>
              <input matInput formControlName="commercialName">
              <mat-error *ngIf="this.form.controls['commercialName'].hasError('required')">
                El campo Nombre Comercial es obligatorio
              </mat-error>
            </mat-form-field>
          </div>
          
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Persona</mat-label>
              <mat-select formControlName="person">
                <mat-option *ngFor=" let p of persons" [value]="p.value">
                  {{p.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Razón social</mat-label>
              <input matInput formControlName="businessName">
              <mat-error *ngIf="this.form.controls['businessName'].hasError('required')">
                El campo Razón Social es obligatorio
              </mat-error>
            </mat-form-field>
          </div>



          <div class="col-md-6">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Email</mat-label>
              <input matInput formControlName="email">
              <mat-error *ngIf="this.form.controls['email'].hasError('required')">
                El campo email es obligatorio
              </mat-error>
              <mat-error *ngIf="this.form.controls['email'].hasError('pattern')">
                El formato de correo electrónico no es el correcto
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Usuario</mat-label>
              <input matInput formControlName="username">
              <mat-error *ngIf="this.form.controls['username'].hasError('required')">
                El campo Username es obligatorio
              </mat-error>
            </mat-form-field>
          </div>


          <div class="col-md-6">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Contraseña</mat-label>
              <input [type]="showPassword ? 'text' : 'password'" matInput formControlName="password">
              <mat-icon matSuffix (click)="togglePasswordVisibility()">
                {{showPassword?'visibility_off':'visibility'}}
              </mat-icon>
              <mat-error *ngIf="this.form.controls['password'].hasError('required')">
                El campo Contraseña es obligatorio
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="col-12" >
              <mat-label>Repetir contraseña</mat-label>
              <input type="password" matInput formControlName="confirmPassword">
              <mat-error *ngIf="this.form.controls['confirmPassword'].errors?.['confirmedValidator']">
                Las contraseñas no coinciden
              </mat-error>
              <mat-error *ngIf="this.form.controls['confirmPassword'].hasError('required')">
                El campo Repetir contraseña es obligatorio
              </mat-error>
            </mat-form-field>
          </div>


          <h3 class="col-md-6 text-success"> Servicios adicionales</h3>
          <div class="col-md-6">
            <mat-slide-toggle (change)="changeAdditionalServices($event)" formControlName="additionalServices" color="primary">Facturación</mat-slide-toggle>
          </div>
          <section style="margin-top: 10px" *ngIf="showAdditonal" >
            <div class="row">
              <div class="col-6">
                <h3>¿Cuenta con algún servicio de facturación?</h3>
              </div>
              <div class="col-6" >
                <mat-slide-toggle (change)="changeProvider($event)" formControlName="provider" color="primary">Sí</mat-slide-toggle>
              </div>
            </div>
            <section class="row" *ngIf="showProvider">
              <div class="col-lg-6">
                <mat-form-field class="col-12" appearance="outline">
                  <mat-select formControlName="pac" >
                    <mat-option *ngFor="let p of pacs" [value]="p.value">
                      {{p.name}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <div class="col-7" style="align-self: center">
                  <h5>¿No encuentras tu PAC? <a class="link" (click)="clickRequestPac()">Solicítalo aquí</a> </h5>
                </div>
              </div>
              <div class="col-lg-6">
                <section class="row">
                  <h3 class="text-black">Proveedor autorizado de certificación</h3>
                  <div class="col-5">
                    <mat-form-field appearance="outline" class="col-12">
                      <mat-label>Usuario PAC</mat-label>
                      <input matInput formControlName="userPac">
                    </mat-form-field>
                  </div>
                  <div class="col-5">
                    <mat-form-field appearance="outline" class="col-12">
                      <mat-label>Contraseña PAC</mat-label>
                      <input type="password" matInput formControlName="passwordPac">
                    </mat-form-field>
                  </div>
                </section>
              </div>

              

            </section>
            
          </section>
          

        </section>

        <!-- <div class="row centered-row">
          <button class="col-6" color="primary" mat-raised-button (click)="clickRegister()">Registrar</button>
        </div> -->
      </form>


      <div class="row d-flex justify-content-center mt-4 mb-3">
        <button class="btn btn-success btn-md btn-block col-4" (click)="clickRegister()">Guardar</button>
      </div>

</div>
</div>